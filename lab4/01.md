# Deploy Wazuh

> Refer to [official docs](https://documentation.wazuh.com/current/deployment-options/docker/docker-installation.html) and [wazuh-docker repo](https://github.com/wazuh/wazuh-docker/tree/main/single-node)

Follow the steps to deploy a single-node Wazuh cluster in the lab network.

1. Increase `max_map_count` on your host (for Linux)

    ```bash
    sudo sysctl -w vm.max_map_count=262144
    ```

1. Understand workdir path on your host (from within the lab environment)

    ```bash
    cd workspace/wazuh
    echo "HOST_WORKDIR=$HOST_WORKDIR" | sudo tee .env
    ```

1. Generate certs for the indexer component.

    ```bash
    docker compose --env-file=.env -f generate-indexer-certs.yml run --rm generator
    ```

1. Add the generated `wazuh/config/wazuh_indexer_ssl_certs/root-ca.pem` to the browser trust store (for local testing).
    - In chromium-based browsers, custom user certs can be managed at `chrome://certificate-manager/localcerts/usercerts`

1. Run the services (indexer, manager, and dashboard)

    ```bash
    docker compose up -d
    ```

1. Add an entry in your hosts file (e.g., `/etc/hosts` on Linux).

    > Depending on your environment, you may need to specify a different address on which the service is running.

    ```shell
    127.0.0.1  wazuh.dashboard
    ```

1. Access the dashboard at <https://wazuh.dashboard> and login with default credentials specified in the compose file `admin:SecretPassword`

    > Follow [docs](https://documentation.wazuh.com/current/deployment-options/docker/changing-default-password.html) to learn how to update the default credentials.

1. Dashboard should show no errors. You should also be able to reach Wazuh manager from the terminal.

    ```bash
    ping wazuh.manager
    ```
